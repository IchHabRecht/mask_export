<f:layout name="Default" />

<f:section name="content">
    <f:render partial="General/Tabs" arguments="{active: 'Preview'}" />

    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="DTM-mask-1">
            <div class="form-section">
                <f:form action="save">
                    <div class="row">
                        <div class="form-group col-sm-4">
                            <label for="extensionName" class="t3js-formengine-label">
                                Extension name
                            </label>
                            <div class="t3js-formengine-field-item">
                                <div class="form-control-wrap">
                                    <f:form.textfield value="{extensionName}" name="extensionName" id="extensionName" title="Extension Name" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="form-group col-sm-4">
                            <label for="vendorName" class="t3js-formengine-label">
                                Vendor name
                            </label>
                            <div class="t3js-formengine-field-item">
                                <div class="form-control-wrap">
                                    <f:form.textfield value="{vendorName}" name="vendorName" id="vendorName" title="Vendor Name" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="form-group col-sm-4">
                            <div class="t3js-formengine-field-item">
                                <div class="form-control-wrap">
                                    <f:form.submit name="submit" value="Preview" class="btn btn-success col-sm-3" />
                                    <f:form.hidden name="submit" value="" />
                                    <f:if condition="{composerMode}}">
                                        <f:then>
                                            <f:form.submit name="submit" value="Write" class="btn btn-default col-sm-3 t3js-modal-trigger" additionalAttributes="{data-href: 'javascript:$ = $ || jQuery;$(\'form input[type=submit].t3js-modal-trigger\').prev().val(\'install\');$(\'form\').trigger(\'submit\')', data-severity: 'warning', data-title: 'Write extension to file system?', data-content: 'Are you sure you want to write the new extension files to your local file system? This action might overwrite extisting files.', data-button-ok-text: 'Overwrite'}" style="margin-left: 9px;" />
                                        </f:then>
                                        <f:else>
                                            <f:form.submit value="Install" class="btn btn-default col-sm-3 t3js-modal-trigger" additionalAttributes="{data-href: 'javascript:$ = $ || jQuery;$(\'form input[type=submit].t3js-modal-trigger\').prev().val(\'install\');$(\'form\').trigger(\'submit\')', data-severity: 'warning', data-title: 'Write and install the extension?', data-content: 'Are you sure you want to write the new extension files to your local file system and install it afterwards? This action might overwrite extisting files.', data-button-ok-text: 'Overwrite'}" style="margin-left: 9px;" />
                                        </f:else>
                                    </f:if>
                                    <f:form.submit name="submit" value="Download" class="btn btn-default col-sm-3" style="margin-left: 9px;" />
                                </div>
                            </div>
                        </div>
                    </div>
                </f:form>
                <f:for each="{files}" as="fileContent" key="fileName">
                    <div class="panel panel-space panel-default">
                        <div class="panel-heading"><strong>{fileName}</strong></div>
                        <div data-state="expanded" id="recordlist-be_users" class="table-fit collapse in">
                            <pre><code>{fileContent}</code></pre>
                        </div>
                    </div>
                </f:for>
            </div>
        </div>
    </div>
</f:section>
